<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.finalhome.fantasyfootball.player.dao.IPlayerDao">
	<resultMap id="playerBaseMap" type="Player">
		<id column="id" property="id"></id>
		<result column="name" property="name"></result>
		<result column="shirt_number" property="shirtNumber"></result>
		<result column="club_id" property="clubId"></result>
		<result column="age" property="age"></result>
		<result column="position" property="position"></result>
		<result column="nationality" property="nationality"></result>
		<result column="asking_price" property="askingPrice"></result>
		<result column="wage" property="wage"></result>
	</resultMap>
	
	<select id="queryAllPlayers" resultMap="playerBaseMap">
		SELECT *
		FROM player
	</select>
	
	<select id="queryPlayerClubList" parameterType="com.finalhome.fantasyfootball.player.model.PlayerSearchModel" resultType="java.util.HashMap">
		SELECT player.id id, player.name name, player.shirt_number shirt_number, club.name club_name, player.age age, player.position position, 
				player.nationality nationality, player.asking_price asking_price, player.wage wage 
		FROM player 
		LEFT JOIN club ON player.club_id = club.id
		<where>
			<if test="id != null">
				AND player.id = #{id}
			</if>
			<if test="name != null">
				AND player.name LIKE '%${name}%'
			</if>
		</where>
	</select>

</mapper>